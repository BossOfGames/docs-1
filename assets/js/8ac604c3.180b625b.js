"use strict";(self.webpackChunkphpvms_docs=self.webpackChunkphpvms_docs||[]).push([[2192],{3905:function(e,t,a){a.d(t,{Zo:function(){return c},kt:function(){return m}});var n=a(7294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,i=e.originalType,o=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(a),m=l,h=d["".concat(o,".").concat(m)]||d[m]||u[m]||i;return a?n.createElement(h,r(r({ref:t},c),{},{components:a})):n.createElement(h,r({ref:t},c))}));function m(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var i=a.length,r=new Array(i);r[0]=d;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:l,r[1]=s;for(var p=2;p<i;p++)r[p]=a[p];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},4595:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return s},contentTitle:function(){return o},metadata:function(){return p},toc:function(){return c},default:function(){return d}});var n=a(7462),l=a(3366),i=(a(7294),a(3905)),r=["components"],s={id:"layouts",title:"Layouts and Template Basics"},o=void 0,p={unversionedId:"customize/layouts",id:"customize/layouts",isDocsHomePage:!1,title:"Layouts and Template Basics",description:"phpVMS can customized to fit your VA's look and feel. The templating is powered by Laravel Blade. To understand skinning and changing templates, study the Laravel Blade documents, and then the below will make more sense.",source:"@site/docs/customize/layouts.md",sourceDirName:"customize",slug:"/customize/layouts",permalink:"/customize/layouts",editUrl:"https://github.com/phpvms/docs/tree/master/docs/customize/layouts.md",tags:[],version:"current",frontMatter:{id:"layouts",title:"Layouts and Template Basics"},sidebar:"docs",previous:{title:"Notifications",permalink:"/config/notifications"},next:{title:"Theming",permalink:"/customize/theming"}},c=[{value:"Layout Basics",id:"layout-basics",children:[{value:"Template basics",id:"template-basics",children:[]}]},{value:"Caching Items",id:"caching-items",children:[]},{value:"Resources",id:"resources",children:[]}],u={toc:c};function d(e){var t=e.components,a=(0,l.Z)(e,r);return(0,i.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"phpVMS can customized to fit your VA's look and feel. The templating is powered by ",(0,i.kt)("a",{parentName:"p",href:"https://laravel.com/docs/7.x/blade"},"Laravel Blade"),". To understand skinning and changing templates, study the Laravel Blade documents, and then the below will make more sense."),(0,i.kt)("h2",{id:"layout-basics"},"Layout Basics"),(0,i.kt)("p",null,"All of the themes are stored in the ",(0,i.kt)("inlineCode",{parentName:"p"},"resources/views/layouts/")," folder. There is a base theme file, ",(0,i.kt)("inlineCode",{parentName:"p"},"app.blade.php"),", which is then used by the templates. It has several required sections:"),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"See the ",(0,i.kt)("inlineCode",{parentName:"p"},"resources/views/layouts/default/app.blade.php")," as an example template, since there are several sections of code which are required in any custom templates, including some Javascript and CSS. I've tried to make notes and outline those sections in the ",(0,i.kt)("inlineCode",{parentName:"p"},"default/app.blade.php")," file itself."))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@section('title')")," is the page title, and shows up in the title bar"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@section('content')")," is the main content for the page"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@section('scripts')")," is where any Javascript will go (note, you need to include the ",(0,i.kt)("inlineCode",{parentName:"li"},"<script><\/script>")," tags when extending this section."),(0,i.kt)("li",{parentName:"ul"},"Layouts and templates follows ",(0,i.kt)("a",{parentName:"li",href:"https://laravel.com/docs/5.6/blade#template-inheritance"},"Laravel's Template Inheritance")),(0,i.kt)("li",{parentName:"ul"},"Your page layout needs to be called ",(0,i.kt)("inlineCode",{parentName:"li"},"app.blade.php"),". This is to keep compatibility with any addons/modules that will extend the basic layout",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"All of the templates will ",(0,i.kt)("inlineCode",{parentName:"li"},"@extend('app')"),"."))),(0,i.kt)("li",{parentName:"ul"},"The page layout requires several sections:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@yield('title')")," - this would go into the ",(0,i.kt)("inlineCode",{parentName:"li"},"<title>")," tag of the page"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@yield('css')")," - place this towards the end of the ",(0,i.kt)("inlineCode",{parentName:"li"},"<head>")," section"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@include('system.scripts')")," - put this last the last statement before the ",(0,i.kt)("inlineCode",{parentName:"li"},"</head>")," tag"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@yield('content')")," - where the body of the page will display"),(0,i.kt)("li",{parentName:"ul"},"This goes at the end of the body:",(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-html"},"<script src=\"{!! public_asset('/assets/system/js/vendor.js') !!}?v={!! time() !!}\"><\/script>\n<script src=\"{!! public_asset('/assets/system/js/phpvms.js') !!}?v={!! time() !!}\"><\/script>\n"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@yield('scripts')")," has to go right before the ",(0,i.kt)("inlineCode",{parentName:"li"},"</body>")," tag"))),(0,i.kt)("li",{parentName:"ul"},"View the main ",(0,i.kt)("inlineCode",{parentName:"li"},"resources/views/layouts/default/app.blade.php")," to ensure that you've got all of the Javascript and code required. There are notes in that file as to what is absolutely required.")),(0,i.kt)("h3",{id:"template-basics"},"Template basics"),(0,i.kt)("p",null,"phpVMS takes advantage of many of the ",(0,i.kt)("a",{parentName:"p",href:"https://laravel.com/docs/5.6/blade"},"Laravel Blade")," features, and there are no limitations placed within the system to prevent anyone from using the full power of the templating system. There are only a few guidelines, to ensure a consistent standard for addons, widgets and other customizations."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"All templates extend the 'app' layout (as described above). Unless you have a custom page that has all of the HTML required")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"@extends('app')\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"This is the page title, as described above")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"@section('title', 'flights')\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"This is where all of the content for a page will go")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"@section('content')\n# Place content here\n@endsection\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"This is also optional, where any CSS can go. Needs to include the ",(0,i.kt)("inlineCode",{parentName:"li"},"<style>")," tags")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"@section('css')\n@endsection\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"This is optional, where any Javascript will go. Needs to be in ",(0,i.kt)("inlineCode",{parentName:"li"},"<script>")," tags")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"@section('scripts')\n@endsection\n")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"caching-items"},"Caching Items"),(0,i.kt)("p",null,"When making calls to models, etc in templates, to increase performance, using the ",(0,i.kt)("inlineCode",{parentName:"p"},"cache()->remember()")," call. The call looks like:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"$value = cache()->remember($cache_name, $cache_time_in_seconds, $function_to_lookup);\n")),(0,i.kt)("p",null,"An example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"// Cache for 5 minutes (3600 seconds)\n$schedule_count = cache()->remember('schedule_count', 3600, function () {\n    return \\App\\Models\\Flight::where('active', true)->count();\n});\n\nSchedule Count: {{ $schedule_count }}\n")),(0,i.kt)("p",null,"This will greatly increase the performance on your pages"),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"resources"},"Resources"),(0,i.kt)("p",null,"A few good resources are:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://laravel.com/docs/5.5/blade"},"Laravel Blade")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://laracasts.com/series/laravel-5-fundamentals/episodes/5"},"Blade 101, Laracast Video")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://laracasts.com/series/laravel-from-scratch-2017/episodes/10"},"Layouts and Structure, Laracast Video"))),(0,i.kt)("p",null,"Laracasts is a great resource for learning the ins and outs of Laravel."))}d.isMDXComponent=!0}}]);