"use strict";(self.webpackChunkphpvms_docs=self.webpackChunkphpvms_docs||[]).push([[2872],{8335:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>a,default:()=>l,frontMatter:()=>o,metadata:()=>c,toc:()=>d});var i=n(4848),s=n(8453);const o={id:"vatsim",title:"VATSIM",sidebar_title:"VATSIM"},a=void 0,c={id:"oauth/vatsim",title:"VATSIM",description:"First, you need to create a vatsim organization on the VATSIM website.",source:"@site/docs/oauth/vatsim.md",sourceDirName:"oauth",slug:"/oauth/vatsim",permalink:"/oauth/vatsim",draft:!1,unlisted:!1,editUrl:"https://github.com/phpvms/docs/tree/master/docs/oauth/vatsim.md",tags:[],version:"current",frontMatter:{id:"vatsim",title:"VATSIM",sidebar_title:"VATSIM"},sidebar:"docs",previous:{title:"Discord",permalink:"/oauth/discord"},next:{title:"Layouts and Template Basics",permalink:"/customize/layouts"}},r={},d=[{value:"Customizing scopes",id:"customizing-scopes",level:2}];function h(e){const t={a:"a",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["First, you need to ",(0,i.jsx)(t.a,{href:"https://auth.vatsim.net/organization/requirements",children:"create a vatsim organization"})," on the VATSIM website."]}),"\n",(0,i.jsxs)(t.p,{children:["After your organization has been approved by VATSIM, you can create a new OAuth client.\nGo to the ",(0,i.jsx)(t.a,{href:"https://auth.vatsim.net/organization",children:"Organizations"})," tab and into the organization you created. Navigate to the 'OAuth clients' tab and add a new client.\nIn the redirect URL, enter: ",(0,i.jsx)(t.code,{children:"https://yourdomain.com/oauth/vatsim/callback"})]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:n(1189).A+"",width:"1661",height:"482"})}),"\n",(0,i.jsxs)(t.p,{children:["In the ",(0,i.jsx)(t.code,{children:".env"})," file, add the following:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",metastring:'title=".env"',children:"VATSIM_OAUTH_ENABLED=true\nVATSIM_CLIENT_ID={your_client_id}\nVATSIM_CLIENT_SECRET={your_client_secret}\n"})}),"\n",(0,i.jsx)(t.p,{children:"You can retrieve your client ID and your client secret from the OAuth clients page after creating the client as explained above."}),"\n",(0,i.jsx)(t.p,{children:'Now, your users can link their VATSIM account to their phpVMS account and use their VATSIM account to log in. The link between the two accounts is automatically established when clicking the "Login with VATSIM" button on the login page. However, if the email address of the VATSIM account is different from the email address of the phpVMS account, it must be done manually on the profile page.'}),"\n",(0,i.jsx)(t.h2,{id:"customizing-scopes",children:"Customizing scopes"}),"\n",(0,i.jsxs)(t.p,{children:["You can add scopes to the OAuth request in addition to the default scopes by adding your scopes to the ",(0,i.jsx)(t.code,{children:".env"})," file, separated by commas.\nSee ",(0,i.jsx)(t.a,{href:"https://vatsim.dev/api/connect-api/redirect",children:"VATSIM Scopes List"})]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",metastring:'title=".env"',children:"VATSIM_SCOPES=scope1,scope2\n"})})]})}function l(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},1189:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/create-vatsim-43171e28d7899bf84b60bd726be39a17.png"},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>c});var i=n(6540);const s={},o=i.createContext(s);function a(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);