"use strict";(self.webpackChunkphpvms_docs=self.webpackChunkphpvms_docs||[]).push([[7584],{4137:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>f});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),l=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},d=function(e){var t=l(e.components);return r.createElement(s.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,d=c(e,["components","mdxType","originalType","parentName"]),p=l(n),h=o,f=p["".concat(s,".").concat(h)]||p[h]||u[h]||i;return n?r.createElement(f,a(a({ref:t},d),{},{components:n})):r.createElement(f,a({ref:t},d))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=h;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c[p]="string"==typeof e?e:o,a[1]=c;for(var l=2;l<i;l++)a[l]=n[l];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},3649:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var r=n(7462),o=(n(7294),n(4137));const i={id:"discord",title:"Discord",sidebar_title:"Discord"},a=void 0,c={unversionedId:"oauth/discord",id:"oauth/discord",title:"Discord",description:"First, you need to create a developer application on the Discord website. If you have already created this application to use the rich presence of vmsACARS, you can use the same one.",source:"@site/docs/oauth/discord.mdx",sourceDirName:"oauth",slug:"/oauth/discord",permalink:"/oauth/discord",draft:!1,editUrl:"https://github.com/phpvms/docs/tree/master/docs/oauth/discord.mdx",tags:[],version:"current",frontMatter:{id:"discord",title:"Discord",sidebar_title:"Discord"},sidebar:"docs",previous:{title:"Backups",permalink:"/config/backups"},next:{title:"VATSIM",permalink:"/oauth/vatsim"}},s={},l=[{value:"Sending Private Messages",id:"sending-private-messages",level:2}],d={toc:l},p="wrapper";function u(e){let{components:t,...i}=e;return(0,o.kt)(p,(0,r.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"First, you need to ",(0,o.kt)("a",{parentName:"p",href:"https://discord.com/developers/applications"},"create a developer application")," on the Discord website. If you have already created this application to use the rich presence of vmsACARS, you can use the same one."),(0,o.kt)("p",null,"Next, go to OAuth2 > General. Copy the client ID and client secret to be used in the configuration later. Additionally, you need to add a redirect; the URL to add is ",(0,o.kt)("inlineCode",{parentName:"p"},"https://yourdomain.com/oauth/discord/callback"),"."),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(9098).Z,width:"1279",height:"548"})),(0,o.kt)("p",null,"In the ",(0,o.kt)("inlineCode",{parentName:"p"},".env")," file, add the following:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title=".env"',title:'".env"'},"DISCORD_OAUTH_ENABLED=true\nDISCORD_CLIENT_ID={your_client_id_copied_before}\nDISCORD_CLIENT_SECRET={your_client_secret_copied_before}\n")),(0,o.kt)("p",null,'Now, your users can link their Discord account to their phpVMS account and use their Discord account to log in. The link between the two accounts is automatically established when clicking the "Login with Discord" button on the login page. However, if the email address of the Discord account is different from the email address of the phpVMS account, it must be done manually on the profile page.'),(0,o.kt)("h2",{id:"sending-private-messages"},"Sending Private Messages"),(0,o.kt)("p",null,"If you want to send private message notifications to your users (development still in progress), you need to create a Discord bot in the bot section of your Discord application and copy the token. ",(0,o.kt)("br",null),"\nIf this option is not enabled, the ",(0,o.kt)("inlineCode",{parentName:"p"},"discord_private_channel_id")," field will not be filled. This field contains a unique discussion ID between the bot and the user, so it is imperative to have a bot to fill it."),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(5316).Z,width:"1387",height:"599"})),(0,o.kt)("p",null,"Place the token in the ",(0,o.kt)("inlineCode",{parentName:"p"},".env"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title=".env"',title:'".env"'},"DISCORD_BOT_TOKEN={your_bot_token_copied_before}\n")))}u.isMDXComponent=!0},5316:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/create-discord-bot-ca86bdcff6df0c8ea17ad4614983431c.png"},9098:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/create-discord-3e4ff6daa49cdb7fe3bcdcfa9910a996.png"}}]);