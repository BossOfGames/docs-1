<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="search" type="application/opensearchdescription+xml" title="phpVMS Docs" href="/opensearch.xml"><title data-react-helmet="true">Finances | phpVMS Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.phpvms.net/concepts/finances"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-intro-current"><meta data-react-helmet="true" property="og:title" content="Finances | phpVMS Docs"><meta data-react-helmet="true" name="description" content="Journals"><meta data-react-helmet="true" property="og:description" content="Journals"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.phpvms.net/concepts/finances"><link data-react-helmet="true" rel="alternate" href="https://docs.phpvms.net/concepts/finances" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.phpvms.net/concepts/finances" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.3eba2cbe.css">
<link rel="preload" href="/assets/js/runtime~main.aad58085.js" as="script">
<link rel="preload" href="/assets/js/main.60853afd.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">phpVMS Docs</b></a></div><div class="navbar__items navbar__items--right"><a href="https://forum.phpvms.net" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://discord.gg/wvAmMnd" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/nabeelio/phpvms" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="searchBox_Utm0"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/requirements">Requirements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/download">Download</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/concepts/basics">Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/basics">Basics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/concepts/finances">Finances</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/installation/uploading">Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/config/files">Configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/customize/layouts">Themes and Layouts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/developers/environment">Developers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/api/overview">API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/acars/overview">ACARS</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/help">Getting Help</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Finances</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="journals">Journals<a class="hash-link" href="#journals" title="Direct link to heading">â€‹</a></h2><p>Journals are created, which then hold transactions against those journals. A journal is assigned for:</p><ul><li>Every airline</li><li>Every user</li></ul><p>The balance of any journal are the sum of its credits, which are then subtracted from those debits. The transactions also have &quot;groups&quot;, which are used in the financial reports. With the journaling system, user&#x27;s or airlines can be paid or charged, with historical records being kept, and reports run on them.</p><hr><h2 class="anchor anchorWithStickyNavbar_y2LR" id="fares-and-fare-classes">Fares and Fare classes<a class="hash-link" href="#fares-and-fare-classes" title="Direct link to heading">â€‹</a></h2><p>Fares are the different prices for seats paid for, by passengers. When a PIREP is filed, 3 places are checked for the price for a certain fare class:</p><p>How the parameters for a fare are determined:</p><ol><li>The fares that can be assigned are retrieved from the subfleet of the aircraft that was flown</li><li>The flight is checked if it has an entry for that fare, and takes any parameters that were changed</li><li>The fare and values from the subfleet</li><li>Finally, from the fare itself</li></ol><p>When the fare is added for a subfleet or on a flight, the values can be set to a number, or a percentage. The percentage will be from the base fare, and the &quot;base&quot; is <code>100%</code> - so if you want to increase the fare price for a subfleet to be 10% higher than the base fare for that class, set it to <code>110%</code>. The percent-sign needs to be included for it to detect that you want to add a percentage. </p><p>The percentage override has an advantage - so you can add a base fare called &quot;Economy&quot; for $100, and on a certain flight, you can add that fare, and set it to &quot;200%&quot;, so the price for that fare, on that flight, would be $200.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="subfleet-fares">Subfleet Fares<a class="hash-link" href="#subfleet-fares" title="Direct link to heading">â€‹</a></h3><p>Subfleets need to be assigned fares - these fares are shared across all the aircraft in that subfleet. The different attributes of a fare - the cost, price and capacity, can be edited on a per-subfleet basis. One subfleet might have a larger economy class than another, but they can share the same Economy fare that&#x27;s created.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="flight-fares">Flight Fares<a class="hash-link" href="#flight-fares" title="Direct link to heading">â€‹</a></h3><p>If a fare is added to a flight, it will take precedence over the fares assigned to the subfleet.</p><p>When a fare is assigned to a flight, the value it can be given is either a monetary amount, or a multiplier. (e.g, 100, or 100%). The multiplier is applied from the subfleet amount, or the fare amount, if one isn&#x27;t specified on the subfleet. By default, if there is no value, it is assumed at 100% of the amount.</p><p>If there are expected to be aircraft substitutions, you can add only the fares that may apply. For example, on a normal route, you may only have an Economy and First Class fare. But perhaps an aircraft with an additional fare, Premium Economy may be used. You can add Premium Economy to the flight, and set it to either a monetary amount, or to the multiplier, e.g, it might be set to 120%. When the PIREP is filed, for that flight, the seat prices for that flight, on that aircraft, will be set to 120% of the base premium economy price.</p><hr><h2 class="anchor anchorWithStickyNavbar_y2LR" id="expenses">Expenses<a class="hash-link" href="#expenses" title="Direct link to heading">â€‹</a></h2><p>Expenses are arbitrary charges, against either the airline or user. Expenses are a debit line in the journal. There are multiple ways to define them, and can derived from multiple parts of the system. There are 3 types of expenses:</p><ol><li>Flight - these are charged whenever a flight is flown. These also have an option to charge the user/pilot</li><li>Daily - these expenses are charged daily</li><li>Monthly - these are charged monthly</li></ol><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The daily and monthly charges depend on the cron being setup properly</p></div></div><p>Aside from the general expenses (the &quot;Expenses&quot; navigation option in the admin panel), expenses can also be added on different objects, allowing you to be as in-depth as you want.</p><ol><li>Aircraft<ol><li>Flight - when this aircraft is used on a flight (e.g, a &quot;Rental&quot; expense that&#x27;s charged to a user, or a catering charge)</li><li>Daily - charged daily, regardless of use (e.g, &quot;Cleaning&quot;)</li><li>Monthly - lease costs, MRO costs</li></ol></li><li>Airports<ol><li>Flight - only applied on the arrival airport (e.g, landing fees). Can also be charged to a user</li><li>Daily - charged daily, regardless of use</li><li>Monthly - gate charges, other fees</li></ol></li><li>Subfleets<ol><li>Flight - when an aircraft in this subfleet is used on a flight, can also be charged to a user</li><li>Daily - charged, regardless of use</li><li>Monthly</li></ol></li></ol><p>In addition to being able to add expenses to these objects, you can also create custom expenses by adding a <code>Listener</code> for the <code>Expenses</code> event. <code>app/Listeners/ExpenseListener</code> has an example - this allows you to have extra flexibility, for example, if you want to charge a user for excessive landing rates or if the flight time is longer than the planned flight time. These custom <code>Expenses</code> events can also be used for monthly and daily expenses.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/phpvms/docs/tree/master/docs/concepts/finances.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/concepts/basics"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Basics</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/installation/uploading"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Uploading Files</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#journals" class="table-of-contents__link toc-highlight">Journals</a></li><li><a href="#fares-and-fare-classes" class="table-of-contents__link toc-highlight">Fares and Fare classes</a><ul><li><a href="#subfleet-fares" class="table-of-contents__link toc-highlight">Subfleet Fares</a></li><li><a href="#flight-fares" class="table-of-contents__link toc-highlight">Flight Fares</a></li></ul></li><li><a href="#expenses" class="table-of-contents__link toc-highlight">Expenses</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 phpvms</div></div></div></footer></div>
<script src="/assets/js/runtime~main.aad58085.js"></script>
<script src="/assets/js/main.60853afd.js"></script>
</body>
</html>